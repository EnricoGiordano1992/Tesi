<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>jSocket Example</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />    
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script src="../common/js/common.js" type="text/javascript"></script>
    <script src="http://swfobject.googlecode.com/svn/trunk/swfobject/src/swfobject.js" type="text/javascript"></script>
    <script src="../../../src/jsocket.js" type="text/javascript"></script>
    <script src="../../../src/jsocket.advanced.js" type="text/javascript"></script>
    
    <link rel="stylesheet" href="../common/css/style.css" type="text/css"/>
  </head>
  <body>
    <h1>jSocket example</h1>
    <div id="my_socket"></div>
    
    <script type="text/javascript">
     
        // Host we are connecting to
        var host = '192.168.10.20'; 
        // Port we are connecting on
        var port = 23;
        
        var socket = new jSocket();
        
        // When the socket is added the to document 
        socket.onReady = function(){
                socket.connect(host, port);             
        }
        
        // Connection attempt finished
        socket.onConnect = function(success, msg){
                if(success){
                        // Send something to the socket
                        socket.write('Hello world');            
                }else{
                        alert('Connection to the server could not be estabilished: ' + msg);            
                }       
        }
        socket.onData = function(data){
                alert('Received from socket: '+data);   
        }
        
        // Setup our socket in the div with the id="socket"
        socket.setup('mySocket');       
        
    
    </script>
  </body>
</html>